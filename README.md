# 4 файла:
## 1. POSCAR
--- Вектора, типы атомов, криталлическа структура
## 2. POTCAR
--- Псевдопотенциалы

```text
cat path/to/potpaw_PBE/Te/POTCAR > POTCAR
cat path/to/potpaw_PBE/Bi/POTCAR >> POTCAR
```
## 3. INCAR
--- Файл параметров расчёта

```text
SYSTEM = Bi2Te3
...
```
## 4. KPOINTS
--- Сетка k-точек для SCF


# Шаблон  POSCAR

```text
Название системы
масштабный_коэффициент --- базово в ангстемах
a1x a1y a1z      первый вектор решётки
a2x a2y a2z      второй вектор решётки
a3x a3y a3z      третий вектор решётки
Элемент1 Элемент2 ...
N1 N2 ...
Direct   или   Cartesian
x1 y1 z1
x2 y2 z2
...
```
Direct --- координаты в долях векторов решётки
Cartesian --- координаты в ангстремах
$1 \AA = 0.1 nm $

# Шаблон INCAR

```text
SYSTEM = Rhodium surface calculation   # Название системы

# --- Начальные параметры ---
ISTART = 0       # Режим старта: 0 - новый расчёт; 1 - брать волновые функции из WAVECAR
ICHARG = 2       # Начальный заряд: 2 - атомные суперпозиции; 11 - брать из CHGCAR

# --- Электронная оптимизация ---
ENCUT  = 400     # Энергия отсечки плоских волн (eV). Обычно берут минимум рекомендованного из POTCAR, +20%
NELM   = 60      # Максимальное число электронных итераций
EDIFF  = 1E-06   # Критерий сходимости для электронных итераций (энергия в eV)

# --- Ширина уровней / DOS ---
ISMEAR = 0       # Схема растушёвки: 0 - гауссовская; -1 - метод Ферми; -4 - Тетраэдры (для DOS)
SIGMA  = 0.05    # Ширина гаусса/сглаживания (eV). Для металлов можно 0.1, для изоляторов <0.05
LORBIT = 11      # Проекции орбит (11 - на s, px, ...; 10 на s, p, ...)
NEDOS = 1000     # Количество границ (берем из предыдущих расчетов из EIGENVAL)
EMIN = 0.00      # Нижняя граница DOS (берем из предыдущих расчетов из EIGENVAL)
EMIN = 0.00      # Верхняя граница DOS

# --- Ионная релаксация ---
EDIFFG = -1E-02  # Критерий сходимости по силам: все силы < 0.01 eV/Å. Минус = по силам, плюс = по энергии
NSW    = 50      # Максимальное число шагов для релаксации (или MD)
IBRION = 2       # Алгоритм для ионов: 2 - сопряжённые градиенты (CG), 1 - RMM-DIIS (быстрее, но менее устойчиво)
POTIM  = 0.5     # Шаг по времени (fs) для MD или коэффициент шага для релаксации

# --- Оптимизация производительности ---
KPAR   = 4       # Параллелизм по k-точкам (оптимально = числу узлов)
NCORE  = 4       # Число ядер на одну задачу
LREAL  = A       # Проекция в реальном пространстве: A - авто; ON - быстрее, но менее точно
PREC   = Accurate # Точность FFT: Normal (быстрее), Accurate (надёжнее)

# --- Вывод ---
LWAVE  = .FALSE. # Записывать ли WAVECAR (волновые функции). Можно отключить для экономии
LCHARG = .TRUE.  # Записывать ли CHGCAR (плотность заряда)
```

# Шаблон KPOINTS

```text
Automatic mesh
0       # Число точек, 0 --- автоматически
Gamma       # Тип сетки
6 6 6       # Размер сетки
0 0 0       # Сдвиг
```

```text
KPOINTS along high-symmetry path
40      # число интервалов на каждом отрезке
Line-mode
Reciprocal
Γ  0.000 0.000 0.000   M  0.500 0.000 0.000
M  0.500 0.000 0.000   K  0.333 0.333 0.000
K  0.333 0.333 0.000   Γ  0.000 0.000 0.000
Γ  0.000 0.000 0.000   A  0.000 0.000 0.500
```

# Запуск

```bush
mpirun -np j path/to/vasp_std > vasp.out
```
j --- кол. ядер

```
ulimit -s j
```
j --- изменный размер памяти в битах

# Выход

CONTCAR --- Итеоговая решетка

WAVECAR --- Волновая функция

CARGECAR --- Зарядовая плотность

EIGENVAL --- Собстванные числа


Псевдопотенциалы
/opt/VASP_6.4.2/Pseudo

Структуры

materialsproject.org
materialscloud.org


